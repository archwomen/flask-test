{% extends "base.html" %}
{% block content %}
  <article>
    <h1>Contact</h1>
    {% if success %}
      <h3>Thank you for your message. We'll get back to you shortly.</h3>
      {% else %}
      {% macro render_field(field) %}
        <dt>{{ field.label }}
        {% if field.errors %}
          {% for error in field.errors %}
              <span class="error">{{ error }}</span>
          {% endfor %}
        {% endif %}
        </dt>
        <dd>{{ field(**kwargs)|safe }}</dd>
      {% endmacro %}
      <form action="{{ url_for('contact') }}" method=post>
        <dl>
          {{ render_field(form.name) }}
          {{ render_field(form.email) }}
          {{ render_field(form.subject) }}
          {{ render_field(form.message) }}
        </dl>
        {{ form.submit }}
      </form>
    {% endif %}
  <article>
{% endblock %}
